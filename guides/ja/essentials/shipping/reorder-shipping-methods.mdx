---
title: "配送方法の並べ替え"
description: "指定した条件に基づいて、チェックアウト時に表示される配送または受け取り方法の順序を変更する方法を学びます。"
icon: "shuffle"
---

## ルール概要

このルールでは、チェックアウト時に配送方法が表示される順序を自動的に変更できます。  
カート合計、配送先住所、商品タグなどの条件に基づき、特定の配送オプションを優先的に表示できます。

これにより、最も関連性が高く、コスト効率の良い配送方法を優先して表示することで、顧客体験を向上させることができます。

## サンプル設定

以下の手順では、アプリを使用して **配送方法の並べ替え** ルールを作成および設定する方法を示します。

### 新しいルールを作成

[ショッピファイ管理画面](/guides/ja/get-started/installation#go-to-the-app) からアプリを開きます。サイドバーの [ルール](/guides/ja/get-started/quickstart#create-a-sample-rule) セクションに移動し、_「ルールを作成」_ をクリックします。

その後、**チェックアウトルールタイプ選択画面** にリダイレクトされます。_カテゴリー「配送」 → チェックアウトルールタイプ「配送方法の並べ替え」 → 「ルールを選択」_ を選びます。

<img
  src="/images/essentials/shipping/select-reorder-shipping-methods.webp"
  alt="配送方法の並べ替えを選択"
/>

次に、**テンプレート選択** で要件に応じたオプションを選択します。ほとんどの場合、空のルールを開始点として選び、必要に応じて変更できます。事前入力されたテンプレートを選択しても後で編集可能です。

<img
  src="/images/shared/select-rule-template.webp"
  alt="ルールテンプレートを選択"
/>

次に、**新しい配送方法並べ替えルール作成** 画面に移動し、ルールを設定します。

### ルールの設定

ルールを設定するには、まずオプションで「配送方法の並べ替え」のような名前を追加して内容を説明します。次にルールの [ステータス](/guides/ja/get-started/concepts#status) を選択します: テスト中、アクティブ、非アクティブ。

ここでは例として **テスト中** ステータスを選択し、実際の顧客のチェックアウトに影響を与えずにルールを素早くテストできます。

<img src="/images/shared/rule-configure-1.webp" alt="ルール設定1" />

同じ画面で、ルールを適用する場所を定義する適切な [ターゲット](/guides/ja/get-started/concepts#target) を選択します。_「配送」_ を選ぶと、**配送先住所** 入力後に表示される配送方法の順序を変更できます。次に以下を選択できます:

- **定期購入を除くすべての出荷** – 通常配送のみにルールを適用し、定期購入商品を含む注文はスキップします。ショッピファイは定期購入商品の最安配送方法を自動選択し、他の配送方法を非表示にすることがあるため、このオプションを使用すると「配送方法なし」エラーを回避できます。

- **すべての出荷** – 定期購入商品を含むすべての注文にルールを適用します。

また、チェックアウト時に顧客が **「店舗で受け取り」** を選択した場合に表示される受け取り方法にルールを適用する場合は _「店頭受け取り」_ を選択できます。

<img src="/images/essentials/shipping/select-target.webp" alt="ターゲットを選択" />

<Info>
  ルール設定で何を選択すべきか不明な場合、多くの場合は
  デフォルトで選択されているオプションが最適です。後で変更可能なので、まずデフォルトから始めることができます。
</Info>

同じ画面で、関連する [条件セット](/guides/ja/get-started/concepts#condition-set)、[条件](/guides/ja/get-started/concepts#conditions-when)、[アクション](/guides/ja/get-started/concepts#action-what) を選択します。

> 例として、デフォルトの条件セットを選択し、ルールを常に実行、配送価格の高い順に配送方法を並べ替える操作を選択します。

<img src="/images/shared/rule-configure-2.webp" alt="ルール設定2" />

最後に、画面上部の <b>保存</b> ボタンをクリックしてルールを作成・保存します。

<img src="/images/shared/save-rule.webp" alt="ルールを保存" />

## ルールのテスト

ルールがテスト中ステータスのため、チェックアウトでルールを実行するには実際のメールではなく、`test@testing.com` を使用する必要があります。

<Warning>
  下の画像はテスト用メールアドレス使用前のチェックアウトページです。
  配送方法の順序に注意してください。
</Warning>

<img src="/images/shared/before-rule-apply.webp" alt="ルール適用前" />

メールを設定すると、チェックアウトルールが実行され、配送方法の順序が変更されます。最も高額な配送方法が上部に表示されていることを確認できます。

<img src="/images/shared/after-rule-apply.webp" alt="ルール適用後" />

## デフォルトの事前選択配送方法を設定する

ショッピファイではデフォルトで、最上部の配送方法が事前選択配送方法になります。このルールを使用すると、任意の配送方法を最上部に設定して、事前選択配送方法として変更できます。

例として **固定ランキング** オプションを使用し、デフォルトにしたい配送方法のランクを 1 に設定します。「上記以外の配送方法はここに表示する」設定が **最後に表示** になっていることを確認してください。

<Warning>
  テストする場合、ルールを有効化し、ブラウザのクッキー/キャッシュをクリアする必要があります。これにより、以前選択された配送方法ではなく、ルールで設定した配送方法が事前選択されます。別のブラウザを使用して確認することも可能です。
</Warning>

## ルールを有効化

テストが完了したら、ルールを有効化して、実際の顧客のチェックアウトに変更を適用できます。有効化されたルールのみ、すべての顧客のチェックアウトを変更可能です。

サイドバーの **ルール** をクリックして、すべてのルールを表示します。有効化したいルールを選択し、**有効化** ボタンをクリックしてルールを有効にします。

<Warning>
  ルールの有効化は有料プランでのみ利用可能です。プランをまだアップグレードしていない場合は、
  [こちら](/guides/ja/get-started/installation#upgrade-your-plan) の手順に従ってアップグレードしてください。
</Warning>
<img src="/images/shared/activate-the-rule.webp" alt="ルールを有効化" />
