---
title: "コンセプト"
description: "BeSure チェックアウトルールがショッピファイのチェックアウト体験をカスタマイズ・制御する仕組みの主要なコンセプトを学びましょう。"
icon: "puzzle-piece"
---

## ルールとは？

**チェックアウトルール** とは、チェックアウトプロセス中に **何を**、そして **いつ** 行うべきかを定義する一連のロジックです。

## ルールの基本要素

すべてのルールには、その目的、実行タイミング、実行内容、アクションの構成方法を定義する基本要素があります。

### ステータス

ルールの現在の状態（テスト中、アクティブ、非アクティブ）を示します。これにより、ルールがいつ有効になるかを制御できます。

<Tip>
  ルールはまずテストモードで開始することを推奨します。顧客に影響を与えずに、ルールが期待通りに動作しているかを確認できます。テスト後にアクティブモードに切り替えることができます。
</Tip>

<img src="/images/concepts/rule-status.webp" alt="ルールステータス" />

以下は、チェックアウトページでテストモードを有効にする方法の例です。

<Frame>
  <img src="/images/concepts/testing.webp" alt="テストモード" />
</Frame>

### コンディションセット

ニーズに合ったコンディションセットを使用できます。どれを使えばよいかわからない場合は、コンディションセット1を使うか、検索ボックスで必要な条件を持つコンディションセットを探して切り替えることができます。

> 例えば、商品メタフィールドに基づいて配送方法を非表示にしたい場合は、コンディションセット4に切り替える必要があります。そうすることで商品メタフィールド条件を使用できるようになります。

<Warning>
  コンディションセットの選択はルール作成時のみ可能です。ルール作成後にコンディションセットを変更することはできません。別のコンディションセットが必要な場合は、新しいルールを作成してください。
</Warning>

<img src="/images/concepts/condition-set.webp" alt="コンディションセット" />

コンディションセットについての詳細は [こちら](/guides/ja/essentials/condition-sets/introduction) を参照するか、以下から各コンディションセットを学んでください。

<CardGroup cols={3}>
  <Card
    title="コンディションセット 1"
    icon="1"
    href="/guides/ja/essentials/condition-sets/condition-set-1"
  >
    コンディションセット1について詳しく学ぶ。
  </Card>
  <Card
    title="コンディションセット 2"
    icon="2"
    href="/guides/ja/essentials/condition-sets/condition-set-2"
  >
    コンディションセット2について詳しく学ぶ。
  </Card>
  <Card
    title="コンディションセット 3"
    icon="3"
    href="/guides/ja/essentials/condition-sets/condition-set-3"
  >
    コンディションセット3について詳しく学ぶ。
  </Card>
  <Card
    title="コンディションセット 4"
    icon="4"
    href="/guides/ja/essentials/condition-sets/condition-set-4"
  >
    コンディションセット4について詳しく学ぶ。
  </Card>
  <Card
    title="コンディションセット 5"
    icon="5"
    href="/guides/ja/essentials/condition-sets/condition-set-5"
  >
    コンディションセット5について詳しく学ぶ。
  </Card>
  <Card
    title="コンディションセット 6"
    icon="6"
    href="/guides/ja/essentials/condition-sets/condition-set-6"
  >
    コンディションセット6について詳しく学ぶ。
  </Card>
</CardGroup>

### コンディション（「いつ」）

コンディションは選択されたコンディションセットに基づき、ルールを発動させるために満たす必要がある条件を定義します。複雑なケースでは、AND（すべてが真）、OR（いずれかが真）を使用して関連ロジックをグループ化できます。

> 以下の例を参照してください。ここでは、2つの状況のいずれかでルールが実行されます: 日付が2025年8月4日で、その日が月曜日である場合にルールが実行される。または、毎日0:00（つまり毎日真夜中）にルールが実行される。

<img src="/images/concepts/condition.webp" alt="コンディション" />

### アクション（「何を」）

「いつ」セクションの条件が真の場合、システムは定義されたアクションを実行します。各アクションは、その特定の条件（アクションの条件と操作）が満たされた場合のみ実行されます。

> 以下の例を参照してください。ここでは、アクションは配送方法を固定的に並び替え、「翌日配送」を一番上に配置し、その他の配送方法をその下に配置するように設定されています。

<img src="/images/concepts/action.webp" alt="アクション" />

### ブロック

**コンディション**（「いつ」）と **アクション**（「何を」）を組み合わせることで、**ルールブロック** が構成されます。ルール内で **複数のブロック** を使用することで、複雑なシナリオも容易に処理できます。

<img src="/images/concepts/block.webp" alt="ブロック" />

## 追加オプション（一部のルールでのみ）

これらのオプション部分は特定のルールタイプに現れ、ルールがどのように、どこで適用されるか、または特別な条件下でどのように動作するかをさらに制御します。

### ターゲット

ルールが適用される場所（例: 配送または受け取り）を定義します。配送ルールでのみ使用されます。

<img src="/images/concepts/target.webp" alt="ターゲット" />

### 組み合わせ

ルール割引を商品、注文、または配送の割引と組み合わせられるかどうかを制御します。**割引** ルールでのみ使用されます。

<img src="/images/concepts/combinations.webp" alt="組み合わせ" />

### ストラテジー

割引ルールに複数のブロックがある場合、ストラテジー選択が適用されます。どのようにルールブロックが適用されるか（例: 最初に有効なもの、または最も高い値のもの）を決定します。**注文金額割引** ルールでのみ使用されます。

<img src="/images/concepts/strategy.webp" alt="ストラテジー" />

### トリガー

どのステップでルールが発動するかを指定します（例: 顧客がチェックアウトに操作しているとき、またはチェックアウトを完了したとき、またはその両方）。**チェックアウトの検証またはブロック** ルールでのみ使用されます。

<img src="/images/concepts/trigger.webp" alt="トリガー" />

### フォールバック

まれにアプリがチェックアウトで問題を起こした場合に何が起こるかを定義します（例: チェックアウトを許可するかブロックするか）。**チェックアウトの検証またはブロック** ルールでのみ使用されます。

<img src="/images/concepts/fallback.webp" alt="フォールバック" />

### 割引の最大利用回数

割引がすべての顧客で使用できる **合計回数** を定義します。オプションとして、**1顧客あたり1回の使用制限** も設定できます。自動割引ではなく割引コードを使用する場合にのみ適用されます。**割引** ルールでのみ使用されます。

> 例えば、利用制限を **1回** に設定し、「1顧客あたり1回の使用に制限」をチェックしない場合、1人の顧客だけが割引コードを使用できます。その後、このコードは他のすべての人に対して無効になります。

<img src="/images/concepts/maximum-discount-uses.webp" alt="割引の最大利用回数" />
